<!-- MAIN CONTENT -->
<div id="content">
    <div class="row">
        <!--<big-breadcrumbs items="['Table', 'Data Tables']" icon="table" class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></big-breadcrumbs>
        <div smart-include="app/layout/partials/sub-header.tpl.html"></div>-->
    </div>
    <!-- widget grid -->
    <!--<section widget-grid id="widget-grid">-->


    <div class="row">
        <article class="col-sm-12">
            <div>
                <button ng-click="vm.refreshPolicies()" class="btn btn-primary"><i class="fa fa-fw fa-refresh"></i>刷新</button>
            </div>



            <div class="policies-table" jarvis-widget id="standard-datatable-widget" data-widget-color="darken" data-widget-editbutton="false">
                <header>
                    <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                    <h2>{{vm.tableHeader}}</h2>
                </header>
                <div>
                    <div class="widget-body no-padding">

                        <table tr-ng-grid items="vm.policies" page-items="10" enable-filtering="false">
                            <thead>
                                <tr>
                                    <th class="hidden-sm hidden-xs" field-name="created_at" display-name="提交日期" enable-filtering="false" enable-sorting="false" display-format="date:'yyyy-MM-dd'">
                                    </th>
                                    <th class="hidden-sm hidden-xs"  field-name="seller.name" display-name="出单员" enable-filtering="false" enable-sorting="false">
                                    </th>
                                    <th  class="hidden-sm hidden-xs" field-name="policy_no" display-name="保单号" enable-filtering="false" enable-sorting="false">
                                    </th>
                                    <th class="hidden-sm hidden-xs"  field-name="client.name" display-name="业务来源" enable-filtering="false" enable-sorting="false">
                                    </th>
                                    <th field-name="plate_no" display-name="车牌号" enable-filtering="false" enable-sorting="false">
                                    </th>
                                    <th field-name="applicant.name" display-name="投保人" enable-filtering="false" enable-sorting="false">
                                    </th>
                                    <th field-name="totalFee" display-name="保单总额" display-format="computeTotal:gridItem" enable-filtering="false" enable-sorting="false">
                                    </th>
                                </tr>
                            </thead>
                        </table>

                        <!--<table datatable-policy class="table table-striped table-bordered table-hover" width="100%">-->
                        <table class="table table-striped table-bordered table-hover table-responsive" width="100%">
                            <thead>
                                <tr>
                                    <th class="hidden-sm hidden-xs"><i class="fa fa-fw fa-clock-o hidden-md hidden-sm hidden-xs"></i>提交时间</th>
                                    <th class="hidden-sm hidden-xs"><i class="fa fa-fw fa-user hidden-md hidden-sm hidden-xs"></i>出单员</th>
                                    <th class="hidden-sm hidden-xs"><i class="fa fa-fw fa-key hidden-md hidden-sm hidden-xs"></i> 保单号</th>
                                    <th class="hidden-sm hidden-xs"><i class="fa fa-fw fa-inbox hidden-md hidden-sm hidden-xs"></i>业务来源</th>
                                    <th><i class="fa fa-fw fa-car hidden-md hidden-sm hidden-xs"></i>车牌号</th>
                                    <th class="hidden-sm hidden-xs"><i class="fa fa-fw fa-user hidden-md hidden-sm hidden-xs"></i>投保人</th>
                                    <!--<th class="hidden-sm hidden-xs"><i class="fa fa-fw fa-phone text-muted hidden-md hidden-sm hidden-xs"></i> 电话</th>-->
                                    <th ng-show="vm.listType=='to-be-paid'"><i class="fa fa-fw fa-cny hidden-md hidden-sm hidden-xs"></i>保单总额</th>
                                    <th ng-show="vm.listType=='paid'"><i class="fa fa-fw fa-cny hidden-md hidden-sm hidden-xs"></i>跟单费</th>
                                    <th ng-show="vm.listType=='paid'"><i class="fa fa-fw fa-cny hidden-md hidden-sm hidden-xs"></i>支付手续费</th>
                                    <th ng-show="vm.listType=='paid'" class="hidden-sm hidden-xs"><i class="fa fa-fw fa-clock-o hidden-md hidden-sm hidden-xs"></i>支付日期</th>
                                    <!--<th><i class="fa fa-fw fa-rocket hidden-md hidden-sm hidden-xs"></i>保单状态</th>-->
                                    <th><i class="fa fa-fw fa-play hidden-md hidden-sm hidden-xs"></i>操作</th>
                                    <!--<th data-hide="phone,tablet"><i class="fa fa-fw fa-map-marker txt-color-blue hidden-md hidden-sm hidden-xs"></i> Zip</th>
                                    <th data-hide="phone,tablet">City</th>
                                    <th data-hide="phone,tablet"><i class="fa fa-fw fa-calendar txt-color-blue hidden-md hidden-sm hidden-xs"></i> Date</th>-->
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="policy in vm.policies |orderBy: 'created_at'">
                                    <td class="hidden-sm hidden-xs">{{policy.created_at | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                                    <td class="hidden-sm hidden-xs">{{policy.seller.name}}</td>
                                    <td class="hidden-sm hidden-xs">{{policy.policy_no}}</td>
                                    <td class="hidden-sm hidden-xs">{{policy.client.name}}</td>
                                    <td>{{policy.plate_province}}{{policy.plate_no}}</td>
                                    <td class="hidden-sm hidden-xs">{{policy.applicant.name}}</td>
                                    <!--<td  class="hidden-sm hidden-xs">{{policy.applicant.phone}}</td>-->
                                    <td ng-show="vm.listType=='to-be-paid'">{{policy.mandatory_fee + policy.commercial_fee + policy.tax_fee | currency:"￥"}}</td>
                                    <td ng-show="vm.listType=='paid'">{{policy.income | currency:"￥"}}</td>
                                    <td ng-show="vm.listType=='paid'">{{policy.payment | currency:"￥"}}</td>
                                    <td ng-show="vm.listType=='paid'" class="hidden-sm hidden-xs">{{policy.paid_at | date:'yyyy-MM-dd'}}</td>
                                    <!--<td>{{policy.policy_status}}</td>-->
                                    <td>
                                        <button ng-show="vm.isShowPayButton(policy)" ng-click="vm.pay(policy._id)" class="btn btn-primary btn-sm">处理</button>
                                        <button ng-show="vm.isShowEditButton(policy)" ng-click="vm.edit(policy._id)" class="btn btn-primary btn-sm">编辑</button>
                                        <button ng-show="vm.isShowViewButton(policy)" ng-click="vm.view(policy._id)" class="btn btn-primary btn-sm">查看</button>
                                        <button ng-show="vm.isShowDeleteButton(policy)" ng-click="vm.delete(policy._id)" class="btn btn-primary btn-sm">删除</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
        </article>
    </div>

</div>